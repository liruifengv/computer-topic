## 数据库
### 数据库的三要素
- 数据（描述事物的符号记录，数据库里面存储的内容）
- 存储器（外存，一般是硬盘，数据库的载体）
- 数据库管理系统（DBMS，数据库的管理软件）

### 数据库有几种类型？

根据存储模型划分，数据库类型主要可分为：
网状数据库(Network Database)、关系数据库(Relational Database)、树状数据库(Hierarchical Database)、面向对象数据库(Object-oriented Database)，非关系数据库。

商业应用中主要是关系数据库，比如Oracle、DB2、Sybase、MS SQL Server、Informax、MySQL等

### 数据库基本特征：
1）数据结构化：
数据库系统实现了整体数据的结构化，这是数据库的最主要的特征之一。

2）实现数据共享：
因为数据是面向整体的，所以数据可以被多个用户、多个应用程序共享使用，可以大幅度地减少数据冗余，节约存储空间，避免数据之间的不相容性与不一致性。

3）数据独立性高：
数据的独立性包含逻辑独立性和物理独立性，其中，逻辑独立性是指数据库中数据的逻辑结构和应用程序相互独立，物理独立性是指数据物理结构的变化不影响数据的逻辑结构。

4）数据统一管理与控制：
数据的统一控制包含安全控制、完整控制和并发控制。

### 数据库系统：
1）三级模式结构：
（1）内模式（Internal Schema）：也称存储模式。数据物理结构和储存方式的描写叙述，是数据在数据库内部的表示方式；
（2）概念模式（Conceptual Schema）：也称全局模式。有时简称“模式”。是对数据库中全体数据的逻辑结构和特征的描写叙述；
（3）外模式（External Schemas）：也称子模式或者用户模式。数据库用户可以看见和使用的局部数据的逻辑结构和特征的描写叙述；

2）两级映射：
（1）概念模式/内模式映射
（2）外模式/概念模式映射

3）数据的物理独立性：
内模式与概念模式之间的映射提供了数据的物理独立性。当数据的物理结构发生变化时，仅仅须要改动内模式与概念模式之间的映射就可以。

4）数据的逻辑独立性：
概念模式与外模式之间的映射提供了数据的逻辑独立性。当数据的总体逻辑结构发生变化时，仅仅须要改动各个外模式与概念模式之间的映射就可以保证应用程序不受影响。



### 什么是事务?

事务指的是满足 ACID 特性的一组操作，可以通过 Commit 提交一个事务，也可以进行回滚。

#### ACID
- 原子性（Atomicity）

事务被视为不可分割的最小单元，事务的所有操作要么全部提交成功，要么全部失败回滚。

回滚可以用回滚日志（Undo Log）来实现，回滚日志记录着事务所执行的修改操作，在回滚时反向执行这些修改操作即可。


- 一致性（Consistency）

数据库在事务执行前后都保持一致性状态。在一致性状态下，所有事务对同一个数据的读取结果都是相同的。

- 隔离性（Isolation）

一个事务所做的修改在最终提交以前，对其它事务是不可见的。

- 持久性（Durability）

一旦事务提交，则其所做的修改将会永远保存到数据库中。即使系统发生崩溃，事务执行的结果也不能丢失。

系统发生崩溃可以用重做日志（Redo Log）进行恢复，从而实现持久性。与回滚日志记录数据的逻辑修改不同，重做日志记录的是数据页的物理修改。

> 事务的 ACID 特性概念简单，但不是很好理解，主要是因为这几个特性不是一种平级关系：


- 只有满足一致性，事务的执行结果才是正确的。
- 在无并发的情况下，事务串行执行，隔离性一定能够满足。此时只要能满足原子性，就一定能满足一致性。
- 在并发的情况下，多个事务并行执行，事务不仅要满足原子性，还需要满足隔离性，才能满足一致性。
- 事务满足持久化是为了能应对系统崩溃的情况。

### 非关系型数据库和关系型数据库区别，优势比较？

#### 关系型数据库

关系型数据库最典型的数据结构是表，由二维表及其之间的联系所组成的一个数据组织。

优点： 1、易于维护：都是使用表结构，格式一致； 2、使用方便：SQL语言通用，可用于复杂查询； 3、复杂操作：支持SQL，可用于一个表以及多个表之间非常复杂的查询。
缺点： 1、读写性能比较差，尤其是海量数据的高效率读写； 2、固定的表结构，灵活度稍欠； 3、高并发读写需求，传统关系型数据库来说，硬盘I/O是一个很大的瓶颈。

### 非关系型数据库

非关系型数据库严格上不是一种数据库，应该是一种数据结构化存储方法的集合，可以是文档或者键值对等。

优点： 1、格式灵活：存储数据的格式可以是key,value形式、文档形式、图片形式等等，文档形式、图片形式等等，使用灵活，应用场景广泛，而关系型数据库则只支持基础类型。 2、速度快：nosql可以使用硬盘或者随机存储器作为载体，而关系型数据库只能使用硬盘； 3、高扩展性； 4、成本低：nosql数据库部署简单，基本都是开源软件。

缺点： 1、不提供sql支持，学习和使用成本较高； 2、无事务处理； 3、数据结构相对复杂，复杂查询方面稍欠。